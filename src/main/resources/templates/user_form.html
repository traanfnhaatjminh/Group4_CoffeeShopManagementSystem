<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Form</title>
</head>
<body>
<h1>User Form</h1>
<form th:action="@{/admin/users/save}" th:object="${user}" method="post" enctype="multipart/form-data">
    <input type="hidden" th:field="*{uid}" />
    <label>Fullname:</label>
    <input type="text" th:field="*{fullname}" /><br/>

    <label>DOB:</label>
    <input type="date" th:field="*{dob}" /><br/>

    <label>Email:</label>
    <input type="email" th:field="*{email}" /><br/>

    <label>Phone:</label>
    <input type="text" th:field="*{phone}" /><br/>

    <label>Address:</label>
    <input type="text" th:field="*{address}" /><br/>

    <label>Avatar:</label>
    <input type="file" th:field="*{avatar}" /><br/>

    <label>Username:</label>
    <input type="text" th:field="*{username}" /><br/>

    <label>Password:</label>
    <input type="password" th:field="*{pass}" /><br/>

    <label>Role:</label>
    <select th:field="*{role_id}">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
    </select><br/>

    <label>Status:</label>
    <input type="hidden" th:field="*{status}" />
    <button type="button" onclick="toggleStatus()">Toggle Status</button>
    <span th:text="${user.status == 1 ? 'Active' : 'Inactive'}"></span><br/>

    <button type="submit">Save</button>
</form>

<script>
    function toggleStatus() {
        var statusField = document.querySelector('input[name="status"]');
        statusField.value = statusField.value == '1' ? '0' : '1';
        var statusText = statusField.value == '1' ? 'Active' : 'Inactive';
        document.querySelector('span[th\\:text="${user.status == 1 ? \'Active\' : \'Inactive\'}"]').textContent = statusText;
    }
</script>
</body>
</html>
